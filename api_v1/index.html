<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Online-Johari-Window-Project api v1</title>
  <link rel="stylesheet" href="https://stackedit.io/style.css" />
</head>

<body class="stackedit">
  <div class="stackedit__html">
    <h1 id="api-v1-document">API v1 Document</h1>
    <h3 id="api-endpoint">API Endpoint</h3>
    <p><code>http://csmu.oxygentw.net/tools/ap-apiv1</code></p>
    <blockquote>
      <p>注意 送到API的資料必須全部使用半形引號<code>"</code> <strong>而非全形</strong><code>”</code> <br></p>
    </blockquote>
    <blockquote>
      <p>送入錯誤字元會導致資料比對出現<code>null</code></p>
    </blockquote>
    <hr>
    <br>
    <h2 id="新增使用者">新增使用者</h2>
    <p><code>/POST /new/</code></p>
    <pre class=" language-json"><code class="prism  language-json">
data<span class="token punctuation">:</span><span class="token punctuation">{</span>
	nickname<span class="token punctuation">:</span>string<span class="token punctuation">,</span>
	trait<span class="token punctuation">:</span>JSON<span class="token operator">-</span>LIST
<span class="token punctuation">}</span>

</code></pre>
    <p>Example:</p>
    <pre class=" language-json"><code class="prism  language-json">
data<span class="token punctuation">:</span><span class="token punctuation">{</span>
	nickname<span class="token punctuation">:</span><span class="token string">"USER124"</span><span class="token punctuation">,</span>
	trait<span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token string">"開朗"</span><span class="token punctuation">,</span><span class="token string">"樂觀"</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>

</code></pre>
    <p>Response:</p>
    <pre class=" language-json"><code class="prism  language-json">
<span class="token punctuation">{</span><span class="token string">"success"</span><span class="token punctuation">:</span><span class="token string">"true"</span><span class="token punctuation">,</span><span class="token string">"token"</span><span class="token punctuation">:</span><span class="token string">"ec6dc5b250d6c282014f67bb62be5aea"</span><span class="token punctuation">,</span><span class="token string">"coding"</span><span class="token punctuation">:</span><span class="token string">"unicode"</span><span class="token punctuation">}</span>

</code></pre>
    <ul>
      <li>success: true/false | 請求是否成功</li>
      <li>token: string | 系統回應的 token</li>
      <li>coding: string | API回應採用的編碼</li>
    </ul>
    <br>
    <h2 id="用戶回應">用戶回應</h2>
    <p><code>/POST /add/</code></p>
    <pre class=" language-json"><code class="prism  language-json">
data<span class="token punctuation">:</span><span class="token punctuation">{</span>
	token<span class="token punctuation">:</span>string<span class="token punctuation">,</span>
	trait<span class="token punctuation">:</span>JSON<span class="token operator">-</span>LIST
<span class="token punctuation">}</span>

</code></pre>
    <p>Example:</p>
    <pre class=" language-json"><code class="prism  language-json">
data<span class="token punctuation">:</span><span class="token punctuation">{</span>
	token<span class="token punctuation">:</span><span class="token string">"86e1507e5d6a666e24a91e269833d858"</span><span class="token punctuation">,</span>
	trait<span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token string">"壓抑"</span><span class="token punctuation">,</span><span class="token string">"悲觀"</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>

</code></pre>
    <p>Response:</p>
    <pre class=" language-json"><code class="prism  language-json">
<span class="token punctuation">{</span><span class="token string">"success"</span><span class="token punctuation">:</span><span class="token string">"true"</span><span class="token punctuation">,</span><span class="token string">"token"</span><span class="token punctuation">:</span><span class="token string">"ec6dc5b250d6c282014f67bb62be5aea"</span><span class="token punctuation">,</span><span class="token string">"coding"</span><span class="token punctuation">:</span><span class="token string">"unicode"</span><span class="token punctuation">}</span>

</code></pre>
    <ul>
      <li>success: true/false | 請求是否成功</li>
      <li>token: string | 成功寫入資料的 token</li>
      <li>coding: string | API回應採用的編碼</li>
    </ul>
    <br>
    <h2 id="取得結果">取得結果</h2>
    <p><code>/POST /result/</code></p>
    <pre class=" language-json"><code class="prism  language-json">
data<span class="token punctuation">:</span><span class="token punctuation">{</span>
	token<span class="token punctuation">:</span>string
<span class="token punctuation">}</span>

</code></pre>
    <p>Response:</p>
    <pre class=" language-json"><code class="prism  language-json">
<span class="token punctuation">{</span><span class="token string">"success"</span><span class="token punctuation">:</span><span class="token string">"true"</span><span class="token punctuation">,</span><span class="token string">"token"</span><span class="token punctuation">:</span><span class="token string">"ec6dc5b250d6c282014f67bb62be5aea"</span><span class="token punctuation">,</span><span class="token string">"coding"</span><span class="token punctuation">:</span><span class="token string">"unicode"</span><span class="token punctuation">,</span><span class="token string">"openMe"</span><span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token string">"hiddenMe"</span><span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token string">"開朗"</span><span class="token punctuation">,</span><span class="token string">"樂觀"</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token string">"cantSeeMe"</span><span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token string">"悲觀"</span><span class="token punctuation">,</span><span class="token string">"壓抑"</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token string">"unknownMe"</span><span class="token punctuation">:</span><span class="token string">""</span><span class="token punctuation">}</span>

</code></pre>
    <ul>
      <li>success: true/false | 請求是否成功</li>
      <li>token: string | 系統回應的 token</li>
      <li>coding: string | API回應採用的編碼</li>
      <li>openMe: JSON-LIST | 該 token 的開放我</li>
      <li>hiddenMe: JSON-LIST | 該 token 的隱藏我</li>
      <li>cantSeeMe: JSON-LIST | 該 token 的盲目我</li>
      <li>unknownMe: JSON-LIST | 該 token 的未知我</li>
    </ul>
    <br>
    <h2 id="config.php">Config.php</h2>
    <blockquote>
      <p>將 <code>config.php.example</code> 內容修改並改名為 <code>config.php</code> 移動到 api 的上層目錄</p>
    </blockquote>
    <pre class=" language-php"><code class="prism  language-php">
<span class="token php language-php"><span class="token delimiter important">&lt;?php</span>
<span class="token variable">$dbconfig</span><span class="token operator">=</span> <span class="token keyword">array</span><span class="token punctuation">(</span>
	<span class="token string">"name"</span><span class="token operator">=</span><span class="token operator">&gt;</span><span class="token string">"DBNAME"</span><span class="token punctuation">,</span>
	<span class="token string">"user"</span><span class="token operator">=</span><span class="token operator">&gt;</span><span class="token string">"USERNAME"</span><span class="token punctuation">,</span>
	<span class="token string">"passwd"</span><span class="token operator">=</span><span class="token operator">&gt;</span><span class="token string">"DBPASSWORD"</span><span class="token punctuation">,</span>
	<span class="token string">"host"</span><span class="token operator">=</span><span class="token operator">&gt;</span><span class="token string">"DBHOST"</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token delimiter important">?&gt;</span></span>

</code></pre>
  </div>
</body>

</html>